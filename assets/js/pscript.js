window.onload=()=>{function glitch(element,new_text){const letters="abcdefghijklmnopqrstuvwxyz";let target=new_text;element.innerText.length<target.length?element.innerText+=target.substring(element.innerText.length):element.innerText.length>target.length&&(element.innerText=element.innerText.substring(0,element.innerText.length-(element.innerText.length-target.length)));let iteration=0,fps=60,previous_ts=0,done=!1,anim_id=null,effect=ts=>{if(done)return void cancelAnimationFrame(anim_id);let now=Date.now(),elapsed=now-previous_ts;elapsed>fps&&(previous_ts=now-elapsed%fps,element.innerText=element.innerText.split("").map(((letter,index)=>index<iteration?target[index]:letters[Math.floor(26*Math.random())])).join(""),iteration+=1/3),iteration>target.length&&(done=!0),anim_id=requestAnimationFrame(effect)};effect()}document.getElementById("loader-anim").remove(),document.onmousemove=e=>{document.querySelectorAll(".parallex").forEach((elem=>{const position=elem.getAttribute("value"),x=(window.innerWidth-e.pageX*position)/200,y=(window.innerHeight-e.pageY*position)/200;elem.style.transform=`translateX(${x}px) translateY(${y}px)`}))};var span_cod=document.getElementById("span_cod"),val_cod=["Code","Logic","Order","Script"],span_des=document.getElementById("span_des"),val_des=["Design","Charm","Beauty","Style"],span_amb=document.getElementById("span_amb"),val_amb=["Dream","Aesthetic","Vision","Ambition"];function set_glitch_effect(elem,array,time){setTimeout((()=>{if("true"==elem.parentElement.parentElement.dataset.start&&window.focused){var choice=parseInt(4*Math.random());elem.innerText==array[choice]&&(choice=(choice+1)%4),glitch(elem,array[choice])}set_glitch_effect(elem,array,time)}),time)}window.focused=!0,set_glitch_effect(span_cod,val_cod,4e3),set_glitch_effect(span_des,val_des,6e3),set_glitch_effect(span_amb,val_amb,3e3),window.addEventListener("blur",(function(){window.focused=!1}),!1),window.addEventListener("focus",(function(){window.focused=!0}),!1);const divh=document.getElementById("div-home"),divam=document.getElementById("div-about-me"),divs=document.getElementById("div-skill"),divp=document.getElementById("div-project"),divc=document.getElementById("div-contact");document.getElementById("div-mask-back"),document.getElementById("bg-anim");function switchClass(activeElem,n_activeElem){"naE"!=activeElem&&document.getElementById(activeElem).setAttribute("class","bg-lime-100 outline outline-2 outline-lime-50 outline-offset-4 rounded-2xl me-9 text-center py-2 min-w-[4.3rem] text-xs"),"naE"!=n_activeElem&&document.getElementById(n_activeElem).setAttribute("class","bg-lime-50 hover:bg-lime-100 outline outline-2 outline-lime-50 outline-offset-0 transition-[outline-offset] hover:outline-offset-4 rounded-2xl me-9 text-center py-2 min-w-[4.3rem] text-xs")}gsap.registerPlugin(ScrollTrigger,ScrollToPlugin),ScrollTrigger.defaults({scroller:"#main-wrapper"}),gsap.timeline({scrollTrigger:{trigger:divh,start:"top top",pin:!0,scrub:!0,onEnterBack:()=>switchClass("link-home","link-about-me")}}).to("#onscroll-go-right",{x:innerWidth/2,rotate:45,duration:2},.2).to("#onscroll-go-left > *",{x:-1*innerWidth/2,rotate:-45,duration:2,stagger:.03,onComplete:()=>{document.getElementById("onscroll-go-left").setAttribute("data-start","false")},onReverseComplete:()=>{document.getElementById("onscroll-go-left").setAttribute("data-start","true")}},.2),gsap.to(divam,{scrollTrigger:{trigger:divam,start:"top top",toggleActions:"play reset play reset",toggleClass:"fill"}}),gsap.timeline({scrollTrigger:{trigger:divam,start:"top top",pin:!0,scrub:!0,onLeaveBack:()=>switchClass("link-home","link-about-me"),onLeave:()=>switchClass("link-skill","link-about-me"),onEnter:()=>switchClass("link-about-me","link-home"),onEnterBack:()=>switchClass("link-about-me","link-skill")}}).to("#mask-in > div:nth-child(1)",{"--w":100,onComplete:()=>{document.querySelector("#mask-in > div:nth-child(1) .ab-next-btn").click()}}).to("#mask-in > div:nth-child(2)",{"--w":100,onReverseComplete:()=>{document.querySelector("#mask-in > div:nth-child(2) .ab-prev-btn").click()}});var mask_in=document.getElementById("mask-in");document.querySelectorAll(".ab-next-btn, .ab-prev-btn").forEach((btn=>{btn.onclick=()=>{let seq=0,p=btn.parentElement.parentElement,t=mask_in.children.length;seq=btn.classList.contains("ab-next-btn")?-100*p.getAttribute("data-seq")%(100*t):-100*(p.getAttribute("data-seq")-2+t)%(100*t),gsap.to(mask_in,{xPercent:seq,duration:1,ease:"power1"}),gsap.to(mask_in.previousElementSibling,{duration:1,backgroundColor:p.getAttribute("data-clr")})}}));let skill_tl=gsap.timeline({scrollTrigger:{trigger:divs,start:"-10 top",end:"+="+5*window.innerHeight,pin:!0,scrub:!0,onLeaveBack:()=>switchClass("link-about-me","link-skill"),onLeave:()=>switchClass("link-project","link-skill"),onEnter:()=>switchClass("link-skill","link-about-me"),onEnterBack:()=>switchClass("link-skill","link-project")}});document.querySelectorAll(".flex > .card").forEach(((elem,i)=>{let time="+=1";0==i&&(t="0"),skill_tl.from(elem,{duration:1,x:window.innerWidth,onUpdate:function(){this.ratio<=.1&&!elem.classList.contains("fill")?elem.classList.add("fill"):this.ratio>.5&&elem.classList.contains("fill")&&elem.classList.remove("fill")},ease:"circ"},time)})),skill_tl.to("#div-nav",{"--tw-bg-opacity":.4});let project_tl=gsap.timeline({scrollTrigger:{trigger:divp,end:"+="+2*window.innerHeight,scrub:!0,pin:!0,start:"-10 top",onEnterBack:()=>switchClass("link-project","naE"),onEnter:()=>switchClass("link-project","link-skill"),onLeaveBack:()=>switchClass("link-skill","link-project"),onLeave:()=>switchClass("naE","link-project")}}),p1=document.getElementById("project-1"),p2=document.getElementById("project-2");project_tl.to(p1,{scrollTo:{x:p1.scrollWidth-p1.clientWidth},duration:1},0).from(p2,{scrollTo:{x:p2.scrollWidth-p2.clientWidth},duration:1},0),ScrollTrigger.create({trigger:divc,start:"top top",onEnter:()=>switchClass("naE","link-project"),onLeaveBack:()=>switchClass("link-project","naE")});let main=document.getElementById("main-wrapper"),lnk_home=document.getElementById("link-home"),lnk_about_me=document.getElementById("link-about-me"),lnk_skill=document.getElementById("link-skill"),lnk_project=document.getElementById("link-project"),lnk_contact=document.getElementById("link-contact");lnk_home.onclick=()=>{gsap.to(main,{scrollTo:{y:0}})},lnk_about_me.onclick=()=>{let trgt=document.getElementById("div-about-me");gsap.to(main,{scrollTo:{y:trgt.parentElement,offsetY:-10}})},lnk_skill.onclick=()=>{let trgt=document.getElementById("div-skill");gsap.to(main,{scrollTo:{y:trgt.parentElement}})},lnk_project.onclick=()=>{let trgt=document.getElementById("div-project");gsap.to(main,{scrollTo:{y:trgt.parentElement}})},lnk_contact.onclick=()=>{gsap.to(main,{scrollTo:{y:main.scrollHeight-innerHeight}})},document.getElementById("screen-switcher").onclick=()=>{document.location.href="mindex.html"}};